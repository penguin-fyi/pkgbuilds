# Maintainer: Jeff M. Hubbard <jeffmhubbard@gmail.com>
pkgname='penguin-base'
pkgver=5
pkgrel=1
pkgdesc="The Penguin base system"
arch=('any')
url="https://penguin.fyi/"
license=('MIT')
depends=(base curl efibootmgr fail2ban git gnupg
         grub linux-firmware man-db man-pages
         networkmanager openssh pass patch pwgen
         sudo tmux ufw unzip vi vim
         w3m zip zsh)

source=(
    'config-mirrorlist-penguin'
    'config-sudoers'
    'patch-makepkg.conf'
    'patch-pacman.conf'
    'patch-useradd-shell'
    'penguin-base.install'
    'penguin-config-patch.hook'
    'penguin-config-patch.sh'
    'LICENSE'
    'README.md'
)

package(){
    install=penguin-base.install

    install -dm0750 "$pkgdir"/etc/sudoers.d
    install -Dm0644 config-sudoers "$pkgdir"/etc/sudoers.d/10-wheel
    install -Dm0644 config-mirrorlist-penguin "$pkgdir"/etc/pacman.d/mirrorlist-penguin

    install -Dm0644 patch-useradd-shell "$pkgdir"/usr/share/penguin/patches/useradd.patch
    install -Dm0644 patch-pacman.conf "$pkgdir"/usr/share/penguin/patches/pacman.conf.patch
    install -Dm0644 patch-makepkg.conf "$pkgdir"/usr/share/penguin/patches/makepkg.conf.patch

    install -Dm0644 penguin-config-patch.hook "$pkgdir"/usr/share/libalpm/hooks/90-penguin-config-patch.hook
    install -Dm0755 penguin-config-patch.sh "$pkgdir"/usr/share/libalpm/scripts/penguin-config-patch

    install -Dm0644 README.md "$pkgdir"/usr/share/doc/"$pkgname"/README.md
    install -Dm0644 LICENSE "$pkgdir"/usr/share/licenses/"$pkgname"/LICENSE
}

md5sums=('03f473be27e35e6d3e79995ffbe62ab1'
         '25b151ccac832c4b8333222106d16b8c'
         'df65dae48860c143862f9185b15b46a3'
         'd7ae568291619ce1d95aaf78e6460a14'
         '79c690fc4d1faf1aa317cbe68246097f'
         'fe051a20205b52ec74e79b254ca00a5f'
         '64490689e7f16e6b78981bcea3b2e7fc'
         'cdb56c7933f12c4b69180abba141ab5d'
         'a55d1384569349075b5a6a5c61af5c17'
         '6d717fbd72892ced8ce4015b2b0f8366')
